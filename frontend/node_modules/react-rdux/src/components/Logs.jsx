import React from 'react';
import PropTypes from 'prop-types';
import { connect } from '../react-rdux/react-rdux';

import {clearLogs } from '../actions';
import Log from './Log';

const Logs = ({ logsLength, clear }) => {
  const logItems = [];
  for (let i = 0; i < logsLength; i += 1) {
    logItems.push(<Log key={i} index={i}/>);
  }
  return (
    <div>
      <br/>
      <br/>
      <br/>
      <button onClick={clear}>Clear logs</button>
      <ul>{logItems}</ul>
    </div>
  );
};

Logs.propTypes = {
  logsLength: PropTypes.number,
};

function mapStateToProps() {
  return {
    logsLength: 'state.log.logs.length',
  };
}

function mapDispatchToProps(dispatch) {
  return {
    clear: () => dispatch(clearLogs()),
  };
}

export default connect(
  mapStateToProps,
  mapDispatchToProps
)(Logs);
