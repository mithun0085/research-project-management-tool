{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HIRUNI\\\\BACKEND\\\\b\\\\research-project-management-tool\\\\frontend\\\\src\\\\App.js\";\nimport React, { useEffect } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { dispatchLogin, fetchUser, dispatchGetUser } from './redux/actions/authAction';\nimport { FooterContainer } from './containers/footer';\nimport { Route } from \"react-router-dom\";\nimport VideoConference from \"./Pages/VideoConference\";\nimport Header from './components/header/Header';\nimport Body from './components/body/Body';\nimport axios from 'axios';\n\nfunction App() {\n  const dispatch = useDispatch();\n  const token = useSelector(state => state.token);\n  const auth = useSelector(state => state.auth);\n  useEffect(() => {\n    const firstLogin = localStorage.getItem('firstLogin');\n\n    if (firstLogin) {\n      const getToken = async () => {\n        const res = await axios.post('/user/refresh_token', null);\n        dispatch({\n          type: 'GET_TOKEN',\n          payload: res.data.access_token\n        });\n      };\n\n      getToken();\n    }\n  }, [auth.isLogged, dispatch]);\n  useEffect(() => {\n    if (token) {\n      const getUser = () => {\n        dispatch(dispatchLogin());\n        return fetchUser(token).then(res => {\n          dispatch(dispatchGetUser(res));\n        });\n      };\n\n      getUser();\n    }\n  }, [token, dispatch]);\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/video\",\n    component: VideoConference,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(FooterContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/HIRUNI/BACKEND/b/research-project-management-tool/frontend/src/App.js"],"names":["React","useEffect","BrowserRouter","Router","useDispatch","useSelector","dispatchLogin","fetchUser","dispatchGetUser","FooterContainer","Route","VideoConference","Header","Body","axios","App","dispatch","token","state","auth","firstLogin","localStorage","getItem","getToken","res","post","type","payload","data","access_token","isLogged","getUser","then"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,aAAa,IAAIC,MAAzB,QAAsC,kBAAtC;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AACA,SAAQC,aAAR,EAAuBC,SAAvB,EAAkCC,eAAlC,QAAwD,4BAAxD;AACA,SAASC,eAAT,QAAgC,qBAAhC;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,OAAOC,eAAP,MAA4B,yBAA5B;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,SAASC,GAAT,GAAe;AACb,QAAMC,QAAQ,GAAGZ,WAAW,EAA5B;AACA,QAAMa,KAAK,GAAGZ,WAAW,CAACa,KAAK,IAAIA,KAAK,CAACD,KAAhB,CAAzB;AACA,QAAME,IAAI,GAAGd,WAAW,CAACa,KAAK,IAAIA,KAAK,CAACC,IAAhB,CAAxB;AAEAlB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMmB,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAnB;;AACA,QAAGF,UAAH,EAAc;AACZ,YAAMG,QAAQ,GAAG,YAAY;AAC3B,cAAMC,GAAG,GAAG,MAAMV,KAAK,CAACW,IAAN,CAAW,qBAAX,EAAkC,IAAlC,CAAlB;AACAT,QAAAA,QAAQ,CAAC;AAACU,UAAAA,IAAI,EAAE,WAAP;AAAoBC,UAAAA,OAAO,EAAEH,GAAG,CAACI,IAAJ,CAASC;AAAtC,SAAD,CAAR;AACD,OAHD;;AAIAN,MAAAA,QAAQ;AACT;AACF,GATQ,EASP,CAACJ,IAAI,CAACW,QAAN,EAAgBd,QAAhB,CATO,CAAT;AAWAf,EAAAA,SAAS,CAAC,MAAM;AACd,QAAGgB,KAAH,EAAS;AACP,YAAMc,OAAO,GAAG,MAAM;AACpBf,QAAAA,QAAQ,CAACV,aAAa,EAAd,CAAR;AAEA,eAAOC,SAAS,CAACU,KAAD,CAAT,CAAiBe,IAAjB,CAAsBR,GAAG,IAAI;AAClCR,UAAAA,QAAQ,CAACR,eAAe,CAACgB,GAAD,CAAhB,CAAR;AACD,SAFM,CAAP;AAGD,OAND;;AAOAO,MAAAA,OAAO;AACR;AACF,GAXQ,EAWP,CAACd,KAAD,EAAQD,QAAR,CAXO,CAAT;AAcA,sBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACU,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADV,eAGE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,SAAS,EAAEL,eAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAHF,eAOE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADF;AAYD;;AAED,eAAeI,GAAf","sourcesContent":["import React, {useEffect} from 'react';\r\nimport {BrowserRouter as Router} from 'react-router-dom'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {dispatchLogin, fetchUser, dispatchGetUser} from './redux/actions/authAction'\r\nimport { FooterContainer } from './containers/footer'\r\nimport { Route } from \"react-router-dom\";\r\nimport VideoConference from \"./Pages/VideoConference\";\r\nimport Header from './components/header/Header'\r\nimport Body from './components/body/Body'\r\nimport axios from 'axios';\r\n\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch()\r\n  const token = useSelector(state => state.token)\r\n  const auth = useSelector(state => state.auth)\r\n\r\n  useEffect(() => {\r\n    const firstLogin = localStorage.getItem('firstLogin')\r\n    if(firstLogin){\r\n      const getToken = async () => {\r\n        const res = await axios.post('/user/refresh_token', null)\r\n        dispatch({type: 'GET_TOKEN', payload: res.data.access_token})\r\n      }\r\n      getToken()\r\n    }\r\n  },[auth.isLogged, dispatch])\r\n\r\n  useEffect(() => {\r\n    if(token){\r\n      const getUser = () => {\r\n        dispatch(dispatchLogin())\r\n\r\n        return fetchUser(token).then(res => {\r\n          dispatch(dispatchGetUser(res))\r\n        })\r\n      }\r\n      getUser()\r\n    }\r\n  },[token, dispatch])\r\n\r\n\r\n  return (\r\n    <Router>\r\n              <Header />\r\n\r\n      <div className=\"App\">\r\n        <Route path=\"/video\" component={VideoConference} />\r\n        <Body />\r\n      </div>\r\n      <FooterContainer/>\r\n\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}